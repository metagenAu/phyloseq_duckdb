% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/phyloseq_duckdb.R
\name{phyloseq_duckdb}
\alias{phyloseq_duckdb}
\title{Create a DuckDB-based phyloseq object}
\usage{
phyloseq_duckdb(
  otu_table = NULL,
  tax_table = NULL,
  sample_data = NULL,
  taxa_are_rows = TRUE,
  db_path = tempfile()
)
}
\arguments{
\item{otu_table}{OTU table (matrix, data.frame, or otu_table object)}

\item{tax_table}{Taxonomy table (matrix, data.frame, or tax_table object)}

\item{sample_data}{Sample metadata (data.frame or sample_data object)}

\item{taxa_are_rows}{Logical indicating if taxa are represented as rows}

\item{db_path}{Path to store the DuckDB database. Default is temporary}
}
\value{
A phyloseq_duckdb object
}
\description{
This function creates a unified phyloseq object that uses DuckDB for efficient storage
and analysis of large, sparse microbiome datasets. It combines OTU tables, taxonomy tables,
and sample data into a single DuckDB database with optimized queries. The implementation
is particularly suited for datasets that are too large to fit in memory.
}
\examples{
# Create a phyloseq object with all components
ps <- phyloseq_duckdb(otu_table = otu_mat,
                      tax_table = tax_df,
                      sample_data = sample_df,
                      taxa_are_rows = TRUE)

# Calculate diversity metrics
alpha_div <- alpha_diversity_duckdb(ps)
beta_div <- beta_diversity_duckdb(ps)

# Filter taxa based on abundance
ps_filtered <- filter_taxa_phyloseq_duckdb(ps, min_abundance = 10)

# Don't forget to close the connection
close_phyloseq_duckdb(ps)
}
\seealso{
\code{\link{alpha_diversity_duckdb}}, \code{\link{beta_diversity_duckdb}}
}
